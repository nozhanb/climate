OCT. 6, 2017

I separated the functions in index.py. Now we have iceReader and energyReader.
I need to check a few things. I still need to check the lat = 90 and make sure
what is going on in lat = 90 exactly for both functions.
 
I need to test the average part of the 
iceReader function. I replace all the NAN values of the ice fraction by 0 and 
now I am adding more numbers while there are no numbers there and it effects 
average. First, I need to make sure if there are any ---/NAN values in the file.
If so, I need to find a way to remove them from my data set.

In energyReader function fix the average line. Right now it is functioning just 
fine but it has the value of 31 hardcoded (it is meant for September only) in 
it which makes it problematic if you wanna use it for 30-day months.

I removed the septemeber_mean.py from the test/index directory. I no longer need
it.

######################
Oct. 09, 2017

- The class name was changed from index to EnergyIce.

- I made a few changes to the index.py file. I added the index argument to the 
	energyReader function. Now it can produce the index and the average 
	over the europe. Also, it saves the data (depending index is set to 
	True or False) to two different files named energyIndex and energAverage.

- I also added totalSize attribute. 

- Still need to make sure for the lat = 90.

- I have two versions of the index.py on the stallo server. They are quite 
	similar except a few minor changes to the beginning of each files so 
	that the script can be able to read D and Q files.
- Also added a few minor things to the europeMap function including a new arg 
	called "numberOfMonth". This way the user does not have to manually 
	divide the input data to find the average of the data.

October 22, 2017

- I removed the index.py from the code directory (i.e. the one we are in it now)
	and added a more complete version of the index.py code under the name 
	"energyice.py". From now on I will work on this code and update it. 

- I merged the previous codes into this code. So I don't have to update both
	codes.

- So far the energyice module contains four functions. 'sicReader' which reads 
	files (SIC files)
	with sea surface ice information. 'energyReader' which reads in both 
	files with dry and latent energy (i.e. DivD and DivQ files). 
	'europeMap' which plots the energy data over a give longitude and 
	latitude. And 'plotIndex' which was meant to plot output of the 
	first function (i.e. sicReader). It is comprised of two parts. The 
	firs part is complete but the second part is not. The first part can
	make plot of several index overlayed on top of oneanother. However,
	the second part was meant to produce seperate plots for each index
	and it is still incomplete.

- I need to write and add a documentation to this module. 


October 23, 2017

- I made a few changes to the energyice module and made the argument 
	part simpler. I removed 'all-years' and converted file_content
	from a kwargs to args.

- I made a few other minor changes such as ficing the name of the output
	file and now it can work in both modes of single year and several
	consecutive years + a few more things.

- I still need to write the documentation and take a look at the month 
	parameter to see if it produces corrects results if several 
	month is given in the call part.



October 24, 2017

- I removed a module called 'september_mean.py'. It did not contain anything 
	useful.

- Made a few minor changes to the module.

- Wrote a short description of what each of the arguments do in this module.

- Made a lot of plots. I need to move them to a directory. I still have not 
	decided. I , also, need to add a log file for the figure.


October 25, 2017

- Two eller tre minor changes to the sicReader method of energyice module.

October 26, 2017

- I made a semi-major change to the energyice module. I changed the way it 
	reads in the longitude and latitudes. The problem was that for 
	longitude interval of (0,360) the code would crash. The code could 
	read longitudes from 0 to 179.5 (or 180) but it would not be able to
	read values above that because of the way I had implemented the 
	longitudes and latitudes in the code. So I fixed the problem by 
	taking a more simplere approach (compared to flatt and flip commands)
	to read in the longs and lats in the beginning. 

- Notice that from now on longs and lats must be given in a negative and 
	positive format (e.g. lon=(-180,37.5),lat=(-30,67.5)).

October 30, 2017

- I made some minor changes to the energyReader function and made it lighter.
	Now it does not create the numpy.cos() eerysingle time. Also, I removed
	some of un-used counters (e.g. counter2, counter5).

- I made a small change to the europeMap function and now it can set the frame
	automatically based on the given longs and lats.


November 20, 2017

I mhave made some major changes to the energyice.py. Now it takes advantage of 
multi dimensional array calculation so it has become ALOT FASTER (from 12 hours 
less than 1 min thanks to Rune!). There are some other changes that I have made 
to the file. I will get to them later.

November 23, 2017

The function "landEnergyReader" was added to energyice.py. It only reads the data 
overland area. Still needs to be fixed. 


November 24, 2017

The function "landEnergyReader" was fixed.

November 27, 2017

A few minor changes was made to the energyice.py. Two more scripts were written 
"differenceMap.py" and "trendPersistence.py". The former makes an anomoly plot of 
latent energy in low and high of sea ice over Barents Kara sea and the latter makes
an anomoly plot of different months of the same years (low and high ice years).
 

November 29, 2017

I made some changes to both differenceMap.py and trendPersisitence.py.


November 30, 2017

I added the function "montecarlo" to enregyice.py. It runs a statistical test
over the data given to it and as many times as the user wants to. Still needs 
to be verified and make sure things are working properly. 

December 01, 2017

I fixed the montecarlo function. (it had some bugs in it.) Also I added two 
more lines to the europeMap function so it can plot the contour lines with 
values next to them.

December 04, 2017

I added the smoothing function to the energyice.py. Still needs to be discussed
with Rune as to if I can use the scipy.ndimage.uniform_filter method or I should
use his technique with varing step lengths for each latitude.

December 11, 2017

I made some changes to the europeMap function in the energyice file. Also, some 
changes to the differenceMa.py (today) and trendPersistence.py (a few days ago).
Now using the differenceMap.py we can generagte difference maps with montecarlo
contours overplotted on top of them.

December 15, 2017

I made some changes to the difference.py and added the high and low years of the 
SIC of the August and September and EOF1 (another September) to the fit.py.

December 19, 2017

I fixed the smoothing function of the energyice.py. I need to check with Rune 
but I almost sure that it is correct. I may make some changes to it late since
I think the smoothing procedure still can be done in different ways.

December 21, 2017

I added the index checking part to the montecarlo function of the energyice.py.
Now it can test whether the index value (average value of energy) for a given 
area is statistically significant or not. Still needs to be checked to make 
that it is working fine but base on the initial values it seems to be working 
just fine.

December 26, 2017

I added the box feature to the Montecarlo function. Now it can read any given 
box (i.e. longitudes and latitudes). I made a land-only coordinate file called 
"totalLandMask". Now the Montecarlo code takes in any box size and it cuts the 
given box out of the totalLandMask file. Also, now it can read any given month.
It automatically figures the number of months so it does not need to be set 
manually. This feature will probabily work for the February (bothe normal and 
leap years) but it has not been tested yet. Also the trend.py file was updated.
Now every month can be set in the beggining of the file similar to the 
difference.py file.

December 27, 2017

I made a minor change to the landEnergyReader method of the energyice.py.
Now it can print out he February month. Also, I came up with a way to 
use the moving window in the smoothing function. I have not implemented 
it yet but soon I will do that.


Jan 29, 2018

I made some changes to the fit.py. Mostly to ticks and tick labels of
both y and x axes. Also, I generated some new latent energy plots using 
energyLaneReader method. For further details on that check the back 
folder in the home directory under the 2018-01-29.

Feb 02, 2018

A new (and small) feature was added to the energyice.py (i.e. the 
montecarlo function). Now, this the montecarlo method will have three 
different outputs (i.e. density of each cell, index significance, and 
specific years and the number of times they have been repeated). It 
does not have to be activated.

Feb 07, 2018

I added the geoPoReader function to the energyice.py. It reads in the 
geopotential ehight data similar to energy and ice data. I still need 
to add the same feature for the liquid and frozen water path data. 
Also, I need to add the indexing feature and montecarlo code to be 
able to read in these data.

Feb 09, 2018

I added the cloudReader function to the energyice.py. It cacluate the 
amount of liquid water and frozen water in the atmosphere. The unit is 
Kgm-2 so, in terms of procedure and coding, it is quit similar to 
landEenergyReader function. In fact, I mostly copied and pasted different
parts of landEnrgyReader with some modifications to account for both 
frozen and liquid water data that come from two differetn files. Also, 
to make the code to read the data at the same time from two different 
directories I made some changes to the self.filex in the initiating 
function of the enregyice class. I chnaged the self.filex and self.path 
to self.filexWater, self.filexIce, self.pathWater, and self.pathIce.
It still needs to be checked!!!

Feb 11, 2018

I added the montecarlo section of the couldReader function and it ran 
just fine. I still need to plot the outputs of the code for both parts
to make sure data look right. Also, I have add the storing part of the 
code.

Feb 13, 2018

I added an if statement to the cloudReader function in energyice.py. The 
problem was that bothe "LiqWatPath.2013.nc" and "FrozWatPath.2013.nc" have 
different internal structure. The months are separated unlike the other files
and made the code to crash so I fixed it by adding the if statement both in
the beginning of the function (when it tries to find the climatological average)
and in the montecarlo part.

Feb 16, 2018

I added a new function called "fluxReader" to the energyice.py. It will 
read in the values of the energy budget of the surface in terms of incoming 
and outgoing radiation and heat (short, long, sensible, and latent). A good 
feature of this function is that user can choose any of the fluxes (one of them 
two or all of them). It will also run the Monte-Carlo simulation. However, it is 
slow (since it is reading 4 files at the same time). So it has the potential to 
become faster. Also, it needs to be tested!!!

Feb 20, 2018

I fixed a bug in the flux function. I had to put the energy budget lines inside 
the loops (after the year before the filex2) in all loops. So it was producing a 
very big number. I still need to make sure that things are working fine!!!

Feb 22, 2018

I added the seatempReader() function. It reads the sea surface temperature values.
It works fine, though, I have to check it again to make sure. There is not much to 
write about it. It does what the other functions do (e.g. temperatureReader).

Mar 01, 2018

I made a few minor changes to the sicReader function. Now it can produce an average
map other than just the index. Also, I made some changes to the saving part.

Mar 11, 2018

I made some changes to the "energyReader" function in the energyice.py. This function 
was the one that would read energy for an entire given region unlike its counter 
function (landEnergyReader) that would only read energy over land. By making the changes
now it can perform the montecarlo and smoothing (for dry static; DivD). The user is no 
longer required to use the montecarlo function if he/she wants to read energy for the 
entire region and not just over land. I still have not tested the smoothing feature so 
it may have some bugs in it!!!

March 18, 2018

I added the smoothing function to the energyReader function in the energyice module.
It workd fine for the latent energy and it can reproduce a similar result to what 
we get when we directly plot the latent energy without smoothing. It seems to be 
working just fine for the STATIC energy however since I have not plotted the static 
energy data so I am not sure whether it is reproducing the right results or not but
it seems like it is doing so. There is only one possible source of error and the is 
the smoothing of the montecarlo results. I have to check that to see if it is pro-
ducing the right results.

March 19, 2018

I checked the smoothing function in the energyReader method and fixed a few bugs. 
Now it can reproduce the significance leveles too. However, I still need to check 
it with Rune to make sure. Specially for the Dry static energy since there is not 
much of a significance levels in staic ones. But it reproduces the latent energy 
anomalies very well!

March 21, 2018

I made a small change to the fluxReader method in the energyice module. I moved the 
accumulation function to a few lines further in the fluxReader(). Now it finds the 
accumulation value of the anomaly matrix.

March 22, 2018

I added the temperature accumulation feature to the temperatureReader funtion. Now, 
given a  region (longs and lats) it will find the average value of the 2m temperature
for a given time interval (e.g. 36 years). Also, I made the thesisAccuTemp2m code to
plot the outputs of the temperature accumulation.

April 02, 2018

I added a combine feature to the geoPo function in energy.py. It is suppose to read in 
several different months and average over them and find the anomalies rather than reading
month one by one. I still have not run it so I am not sure even if it works. We will see 
tomorrow!


April 10, 2018

I fixed the accumulated cloud values in the cloudReader() function. It was overwriting the 
values of each year over the previous instead of adding them together.


April 12, 2018

I added the function "geoThicknessReader" to the energyice.py. It measures the thickness 
anomaly (in meter) between two layers of pressure (e.g. 500 hPa - 1000 hPa). And it runs 
the Monte-Carlo too.
